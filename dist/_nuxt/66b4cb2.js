(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{538:function(e,t,r){"use strict";r.r(t);var n=r(223),o=r(473),c=r(422),v=r(533),d=r(421),l=r(480),f=r(200),m=r(534),h=r(426),R=r(462),x=r(417),k=r(481),O=(r(33),r(206),r(37)),j=(r(115),r(6),r(11),r(42),r(173),r(175)),_=r(210),w={mounted:function(){this.getStudents(),this.getRevisors()},data:function(){return{snackbar:!1,text:"Revisor asignado",vertical:!0,dialog:!1,dialogDelete:!1,search:"",revisor:"",headers:[{text:"Nombre",align:"start",sortable:!1,value:"name"},{text:"Asamblea",value:"church"},{text:"Ministerios",value:"churchDones"},{text:"Revisores",value:"revisor",sortable:!1},{text:"Acciones",value:"actions",sortable:!1}],students:[],studentsWithOutRevisor:[],revisorsName:[],revisors:[],studentsId:"",dniRevisor:""}},methods:{getStudents:function(){var e=this;return Object(O.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(_.d)(Object(_.a)(j.b,"students"));case 2:t.sent.forEach((function(t){e.students.push(t.data())})),e.students.forEach((function(element){""==element.currentRevisor&&e.studentsWithOutRevisor.push(element)}));case 5:case"end":return t.stop()}}),t)})))()},getRevisors:function(){var e=this;return Object(O.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(_.d)(Object(_.a)(j.b,"revisors"));case 2:t.sent.forEach((function(t){e.revisorsName.push(t.data().name),e.revisors.push(t.data())}));case 4:case"end":return t.stop()}}),t)})))()},asignRevisor:function(e){var t=this;return Object(O.a)(regeneratorRuntime.mark((function r(){var n;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t.dniRevisor=t.revisors.find((function(e){return e.name==t.revisor})).dni,r.next=3,Object(_.f)(Object(_.c)(j.b,"revisor-student",e.dni+"-"+t.dniRevisor),{dniRevisor:t.dniRevisor,namRevisor:t.revisor,nameStudent:e.name,dniStudent:e.dni});case 3:return n=Object(_.c)(j.b,"students",e.dni),r.next=6,Object(_.g)(n,{currentRevisor:t.revisor});case 6:t.snackbar=!0,location.reload();case 8:case"end":return r.stop()}}),r)})))()}}},S=r(96),component=Object(S.a)(w,(function(){var e=this,t=e._self._c;return t(v.a,{staticClass:"text-center"},[t("img",{staticClass:"mb-5",attrs:{width:"250",height:"300",src:"/Emmaus.png",alt:"Vuetify.js"}}),e._v(" "),t(d.a,[t(m.a,{staticStyle:{"justify-content":"center"}},[t(v.a,{attrs:{cols:"12",sm:"12"}},[[t(o.a,[t(c.c,[e._v("\n                            Asignar revisor\n                            "),t(x.a),e._v(" "),t(k.a,{attrs:{"append-icon":"mdi-magnify",label:"Search","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1),e._v(" "),t(l.a,{attrs:{headers:e.headers,items:e.studentsWithOutRevisor,search:e.search},scopedSlots:e._u([{key:"item.revisor",fn:function(r){r.item;return[t(h.a,{attrs:{items:e.revisorsName},model:{value:e.revisor,callback:function(t){e.revisor=t},expression:"revisor"}})]}},{key:"item.actions",fn:function(r){var n=r.item;return[t(f.a,{staticClass:"mr-2",attrs:{small:""},on:{click:function(t){return e.asignRevisor(n)}}},[e._v("\n                                    mdi-application-edit\n                                ")])]}}])})],1)],e._v(" "),t(R.a,{attrs:{vertical:e.vertical},scopedSlots:e._u([{key:"action",fn:function(r){var o=r.attrs;return[t(n.a,e._b({attrs:{color:"indigo",text:""},on:{click:function(t){e.snackbar=!1}}},"v-btn",o,!1),[e._v("\n                            Close\n                        ")])]}}]),model:{value:e.snackbar,callback:function(t){e.snackbar=t},expression:"snackbar"}},[e._v("\n                    "+e._s(e.text)+"\n\n                    ")])],2)],1)],1)],1)}),[],!1,null,null,null);t.default=component.exports}}]);