(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{547:function(t,e,n){"use strict";n.r(e);var c=n(224),o=n(471),r=n(422),l=n(536),d=n(551),v=n(421),f=n(541),_=n(540),h=n(200),m=n(537),S=n(526),x=n(417),k=n(482),C=n(539),w=(n(33),n(208),n(37)),j=n(3),y=(n(115),n(6),n(11),n(174)),O=n(209),I={mounted:function(){this.getSectons()},data:function(){return Object(j.a)({dialog:!1,calification:"",search:"",section:"",headers:[{text:"Nombre",align:"start",sortable:!1,value:"nameStudent"},{text:"Seccion",value:"sectionId"},{text:"Curso",value:"course"},{text:"Nota",value:"calification"},{text:"Acciones",value:"actions"}],students:[],studentsWithOutRevisor:[],sectionsName:[],sections:[],openSections:[],studentsId:"",sectionId:"",studentSection:"",sectionStudent:[],sectionStudentSelected:[],revisorName:"",totalStudents:"",course:"",dniStudent:""},"sectionId","")},methods:{getSectons:function(){var t=this;return Object(w.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.sections=[],t.sectionsName=[],e.next=4,Object(O.d)(Object(O.a)(y.b,"sections"));case 4:e.sent.forEach((function(e){t.sections.push(e.data())})),t.sections.forEach((function(element){"En curso"===element.status&&t.sectionsName.push(element.id+"-"+element.courseName+"-"+element.revisorName)}));case 7:case"end":return e.stop()}}),e)})))()},getSectionStudents:function(){var t=this;return Object(w.a)(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.sectionStudent=[],t.sectionStudentSelected=[],e.next=4,Object(O.d)(Object(O.a)(y.b,"section-student"));case 4:e.sent.forEach((function(e){t.sectionStudent.push(e.data())})),n=t.section.split("-"),t.sectionId=n[0],t.revisorName=n[2],t.course=n[1],t.sectionStudent.forEach((function(element){element.sectionId===t.sectionId&&t.sectionStudentSelected.push(element)})),t.totalStudents=t.sectionStudentSelected.length;case 12:case"end":return e.stop()}}),e)})))()},addCalification:function(t){console.log(t),this.dialog=!0,this.dniStudent=t.dniStudent,this.sectionId=t.sectionId},viewSection:function(){""!=this.section?this.getSectionStudents():(this.text="Seleccione primero una seccion",this.snackbar=!0)},save:function(){var t=this;return Object(w.a)(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object(O.c)(y.b,"section-student",t.dniStudent+"-"+t.sectionId),e.next=3,Object(O.g)(n,{calification:t.calification});case 3:t.getSectionStudents(),t.dialog=!1;case 5:case"end":return e.stop()}}),e)})))()},close:function(){this.dialog=!1}}},N=n(95),component=Object(N.a)(I,(function(){var t=this,e=t._self._c;return e(l.a,{staticClass:"text-center"},[e("img",{staticClass:"mb-5",attrs:{width:"250",height:"300",src:"/emmaus.png",alt:"Vuetify.js"}}),t._v(" "),e(v.a,[e(m.a,[e(r.c,{staticClass:"text-h8 text-md-h7 mr-5 text-lg-h7"},[t._v("Seleccionar seccion")]),t._v(" "),e(d.a,{attrs:{items:t.sectionsName,label:""},model:{value:t.section,callback:function(e){t.section=e},expression:"section"}}),t._v(" "),e(c.a,{staticClass:"ml-5",attrs:{"prepend-icon":"mdi-plus",size:"x-large"},on:{click:function(e){return t.viewSection()}}},[e(h.a,{attrs:{left:""}},[t._v("\n                    mdi-eye\n                ")]),t._v("Mostrar Seccion")],1)],1),t._v(" "),e(m.a,[e(l.a,[[e(S.a,{scopedSlots:t._u([{key:"default",fn:function(){return[e("thead",[e("tr",[e("th",{staticClass:"text-center"},[t._v("\n                                        Revisor\n                                    ")]),t._v(" "),e("th",{staticClass:"text-center"},[t._v("\n                                        Curso\n                                    ")]),t._v(" "),e("th",{staticClass:"text-center"},[t._v("\n                                        Seccion\n                                    ")]),t._v(" "),e("th",{staticClass:"text-center"},[t._v("\n                                        Total de estudiantes\n                                    ")])])]),t._v(" "),e("tbody",[e("tr",[e("td",[t._v(t._s(t.revisorName))]),t._v(" "),e("td",[t._v(t._s(t.course))]),t._v(" "),e("td",[t._v(t._s(t.sectionId))]),t._v(" "),e("td",[t._v(t._s(t.totalStudents))])])])]},proxy:!0}])})]],2)],1),t._v(" "),e(m.a,[e(l.a)],1),t._v(" "),e(m.a,{staticStyle:{"justify-content":"center"}},[e(l.a,{attrs:{cols:"12",sm:"12"}},[[e(o.a,[e(f.a,{attrs:{headers:t.headers,items:t.sectionStudentSelected,search:t.search},scopedSlots:t._u([{key:"item.actions",fn:function(n){var c=n.item;return[""==c.calification?e(C.a,{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function(n){var o=n.on,r=n.attrs;return[e(h.a,t._g(t._b({attrs:{dark:""},on:{click:function(e){return t.addCalification(c)}}},"v-icon",r,!1),o),[t._v("\n                                            mdi-pencil\n                                        ")])]}}],null,!0)},[t._v(" "),e("span",[t._v("Asignar nota")])]):t._e(),t._v(" "),""!=c.calification?e(C.a,{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function(n){var o=n.on,r=n.attrs;return[e(h.a,t._g(t._b({attrs:{dark:""},on:{click:function(e){return t.addCalification(c)}}},"v-icon",r,!1),o),[t._v("\n                                            mdi-playlist-edit\n                                        ")])]}}],null,!0)},[t._v(" "),e("span",[t._v("Modificar nota")])]):t._e(),t._v(" "),""!=c.calification?e(C.a,{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function(n){var c=n.on,o=n.attrs;return[e(h.a,t._g(t._b({staticClass:"ml-2",attrs:{dark:""}},"v-icon",o,!1),c),[t._v("\n                                            mdi-printer-settings\n                                        ")])]}}],null,!0)},[t._v(" "),e("span",[t._v("Generar diploma")])]):t._e()]}}])})],1)]],2)],1),t._v(" "),e(_.a,{attrs:{"max-width":"700px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[e(o.a,[e(r.c,[e("span",{staticClass:"text-h5"},[t._v("Curso")])]),t._v(" "),e(r.b,[e(v.a,[e(m.a,[e(l.a,{attrs:{cols:"12",md:"4"}},[e(k.a,{attrs:{label:"Calificacion",required:""},model:{value:t.calification,callback:function(e){t.calification=e},expression:"calification"}})],1)],1)],1)],1),t._v(" "),e(r.a,[e(x.a),t._v(" "),e(c.a,{attrs:{color:"blue darken-1",text:""},on:{click:t.close}},[t._v("\n                        Cancel\n                    ")]),t._v(" "),e(c.a,{attrs:{color:"blue darken-1",text:""},on:{click:t.save}},[t._v("\n                        Save\n                    ")])],1)],1)],1)],1)],1)}),[],!1,null,null,null);e.default=component.exports}}]);